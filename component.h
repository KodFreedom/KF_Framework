//--------------------------------------------------------------------------------
//	コンポネントスーパークラス
//　component.h
//	Author : Xu Wenjie
//	Date   : 2017-05-18
//--------------------------------------------------------------------------------
#ifndef _COMPONENT_H_
#define _COMPONENT_H_

//--------------------------------------------------------------------------------
//  インクルードファイル
//--------------------------------------------------------------------------------
#include "main.h"

//--------------------------------------------------------------------------------
//  前方宣言
//--------------------------------------------------------------------------------
class CGameObject;
class CNullGameObject;

//--------------------------------------------------------------------------------
//  クラス宣言
//--------------------------------------------------------------------------------
class CComponent
{
public:
	//--------------------------------------------------------------------------------
	//  構造体定義
	//--------------------------------------------------------------------------------
	enum MESSAGE
	{
		M_MAX
	};

	//--------------------------------------------------------------------------------
	//  関数定義
	//--------------------------------------------------------------------------------
	CComponent(CGameObject* const pGameObj) : m_pGameObj(pGameObj) {}
	~CComponent() {}

	virtual KFRESULT	Init(void) = 0;
	virtual void		Uninit(void) = 0;
	virtual void		Release(void)
	{
		Uninit();
		delete this;
	}

	virtual void		ReceiveMsg(const MESSAGE &msg) {}

	//Get関数
	CGameObject* const	GetGameObject(void) const { return m_pGameObj; }

protected:
	//--------------------------------------------------------------------------------
	//  関数定義
	//--------------------------------------------------------------------------------
	CComponent();

	//--------------------------------------------------------------------------------
	//  変数定義
	//--------------------------------------------------------------------------------
	CGameObject* const m_pGameObj;

private:
	//--------------------------------------------------------------------------------
	//  ヌルオブジェクト
	//--------------------------------------------------------------------------------
	static CNullGameObject s_nullGameObject;
};

#endif
