//--------------------------------------------------------------------------------
//
//　gameObjManager.h
//	Author : Xu Wenjie
//	Date   : 2017-5-10
//--------------------------------------------------------------------------------
#pragma once

//--------------------------------------------------------------------------------
//  インクルードファイル
//--------------------------------------------------------------------------------
#include "main.h"

//--------------------------------------------------------------------------------
//  定数定義
//--------------------------------------------------------------------------------
#define GOM GameObjectManager	//GameObjectManagerの略称

//--------------------------------------------------------------------------------
//  列挙型定義
//--------------------------------------------------------------------------------
enum GOMLAYER
{
	L_DEFAULT = 0,
	L_MAX
};

//--------------------------------------------------------------------------------
//  前方宣言
//--------------------------------------------------------------------------------
class GameObject;

//--------------------------------------------------------------------------------
//  クラス宣言
//--------------------------------------------------------------------------------
class GameObjectManager
{
public:
	//--------------------------------------------------------------------------------
	//  関数定義
	//--------------------------------------------------------------------------------
	GameObjectManager();
	~GameObjectManager() {}

	static auto Create(void)
	{
		auto pGOM = new GameObjectManager;
		return pGOM;
	}
	void		Release(void)
	{
		uninit();
		delete this;
	}

	void		ReleaseAll(void);
	void		Update(void);
	void		LateUpdate(void);

	void		Register(GameObject* pGameObj, const GOMLAYER& layer = L_DEFAULT);

private:
	//--------------------------------------------------------------------------------
	//  関数定義
	//--------------------------------------------------------------------------------
	void		uninit(void);

	//--------------------------------------------------------------------------------
	//  変数定義
	//--------------------------------------------------------------------------------
	list<GameObject*>	m_aListGameObject[L_MAX];
};