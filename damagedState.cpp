//--------------------------------------------------------------------------------
//	ダメージ受けたステート
//　damagedState.h
//	Author : Xu Wenjie
//	Date   : 2017-11-07
//--------------------------------------------------------------------------------
//--------------------------------------------------------------------------------
//  インクルードファイル
//--------------------------------------------------------------------------------
#include "main.h"
#include "damagedState.h"
#include "neutralState.h"
#include "actorController.h"
#include "animator.h"

//--------------------------------------------------------------------------------
//
//	public
//
//--------------------------------------------------------------------------------
//--------------------------------------------------------------------------------
//  コンストラクタ
//--------------------------------------------------------------------------------
DamagedState::DamagedState()
	: ActorState("Damaged") {}

//--------------------------------------------------------------------------------
//	関数名：Init
//  関数説明：初期化関数
//	引数：	actor：アクターコントローラ
//	戻り値：なし
//--------------------------------------------------------------------------------
void DamagedState::Init(ActorController& actor)
{
	actor.GetAnimator()->SetDamaged(true);
}

//--------------------------------------------------------------------------------
//	関数名：Act
//  関数説明：行動関数
//	引数：	actor：アクターコントローラ
//	戻り値：なし
//--------------------------------------------------------------------------------
void DamagedState::Act(ActorController& actor)
{
	if (!actor.GetAnimator()->GetCurrentAnimationName()._Equal("Damaged"))
	{
		actor.Change(new NeutralState);
		return;
	}
}