//--------------------------------------------------------------------------------
//	物理演算システム
//　KF_PhysicsSystem.cpp
//	Author : Xu Wenjie
//	Date   : 2017-07-25
//--------------------------------------------------------------------------------
//--------------------------------------------------------------------------------
//  インクルードファイル
//--------------------------------------------------------------------------------
#include "KF_PhysicsSystem.h"

//--------------------------------------------------------------------------------
//  クラス
//--------------------------------------------------------------------------------
//--------------------------------------------------------------------------------
//  初期化処理
//--------------------------------------------------------------------------------
bool CKFPhysicsSystem::Init(void)
{
	return true;
}

//--------------------------------------------------------------------------------
//  終了処理
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::Uninit(void)
{

}

//--------------------------------------------------------------------------------
//  リリース処理
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::Release(void)
{
	Uninit();
	delete this;
}

//--------------------------------------------------------------------------------
//  更新処理
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::Update(void)
{
	for (auto itr = m_listCollisionInfo.begin; itr != m_listCollisionInfo.end();)
	{
		Resolve(*itr);
		itr = m_listCollisionInfo.erase(itr);
	}
}

//--------------------------------------------------------------------------------
//  衝突情報のレジストリ
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::RegistryContact(CCollisionInfo& collisionInfo)
{
	m_listCollisionInfo.push_back(collisionInfo);
}

//--------------------------------------------------------------------------------
//  衝突処理
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::Resolve(CCollisionInfo& collisionInfo)
{
	ResolveVelocity(collisionInfo);
	ResolveInterpenetration(collisionInfo);
}

//--------------------------------------------------------------------------------
//  反発速度の算出
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::ResolveVelocity(CCollisionInfo& collisionInfo)
{

}

//--------------------------------------------------------------------------------
//  めり込みの解決
//--------------------------------------------------------------------------------
void CKFPhysicsSystem::ResolveInterpenetration(CCollisionInfo& collisionInfo)
{

}

//--------------------------------------------------------------------------------
//  分離速度の算出
//--------------------------------------------------------------------------------
float CKFPhysicsSystem::CalculateSeparatingVelocity(CCollisionInfo& collisionInfo)
{

}